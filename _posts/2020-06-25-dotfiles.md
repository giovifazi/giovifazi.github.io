---
layout: post
title: "My dotfiles"
date: 2020-06-25 12:00:00 -0000
---
Here's a closer look at my dotfiles.

## .xinitrc
The capslock key is probably my least used key, but it's also a very easy key to reach. 
The escape key on the other hand is one of my most frequently used keys (I like to use vi bindings everywhere) but it's annoying to reach everytime.
Also the left ctrl key is kinda bothersome to reach when i want to ctrl-c -d or -l in my terminal.

So to arrange those keys in a better, I added the following lines to my .xinitrc:
```
setxkbmap -option ctrl:nocaps

xcape -e 'Control_L=Escape'
```

The first one makes the capslock key behave like a ctrl key, so now the ctrl-\* shortcuts are more comfortable.
To solve the escape key problem i used xcape: now a short keypress of the capslock key (without pressing any other key) triggers the escape key behaviour.

**Yeah.. but why bother?**
I know, I know, to many this will look like a stupid thing to change. In the end it's true: those keyboard changes won't make anyone a better sysadmin, nor will save hours of time.
But to me these changes makes things more comfortable and, especially for Vim/emacs users, once you will get used to the new ctrl/escape key, it's difficult to go back.

So, should You also change your keyboard layout? Well it depends (though I dont think there are problematic side effects).
I would say that if you just started using Vi/Emacs or use Vi/Emacs a lot, that's a must: Vim relies heavly on the escape key and emacs ctrl+\* shortcuts are literally painful.
If you just use the terminal or the classic copy paste shortcuts, the new keys arrangement won't make that much of a difference, just a little better; so i suggest to try them for 2 weeks to decide.

## .bashrc
Many people don't know that the terminal has some shortcuts to move on the edit line. Those shortcuts are derived from emacs.
In addition to the emacs style line editing, there's a vi version; to enable just use:

```
set -o vi
``` 
now the terminal will feel _almost _like a vim buffer (unfortunately not every command is supported (e.g. ci"))

To me that's a great tweak to the command line, but unfortunately the 'clear' shortcut (ctrl+l) doesnt work anymore because it is already bound to a vi shortcut.
So in order to preserve the clear screen shortcut while being in insert mode, i've added:

```
bind -m vi-insert "\C-l":clear-screen
```

## .bash_profile
One thing that bothers me a lot is the presence of unknown hidden files/directories in my ~/
Since I know I am very messy, I decided to use the xdg directory structure to give some sort of order.

```
export XDG_DESKTOP_DIR="$HOME/tmp"
export XDG_DOCUMENTS_DIR="$HOME/tmp"
export XDG_DOWNLOAD_DIR="$HOME/Downloads"
export XDG_MUSIC_DIR="$HOME/tmp"
export XDG_PICTURES_DIR="$HOME/tmp"
export XDG_PUBLICSHARE_DIR="$HOME/tmp"
export XDG_TEMPLATES_DIR="$HOME/tmp"
export XDG_VIDEOS_DIR="$HOME/tmp"

export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_RUNTIME_DIR="/run/user/1000"

export XDG_DATA_DIRS="/usr/local/share:/usr/share"
export XDG_CONFIG_DIRS="/etc/xdg"

export XAUTHORITY="$XDG_CONFIG_HOME/Xauthority"
```
Those are some of the variables to set in order to direct all the xdg compliant application to the right directories.


the next line will remove that .lesshst in you home dir.
```
export LESSHISTFILE=-
```

You could also use this script to filter all the unwanted files
```
#!/bin/bash

DOTF="$(ls -d ~/.??*)"

ALLOWED="bash_history bash_logout bash_profile bashrc cache config local ssh xinitrc pki"

for file in $DOTF
do
   [[ "$ALLOWED" != *"${file##*.}"* ]] && echo "$file"
done
```

## i3wm
Tiling window managers are really worth learning. After you memorize those 7/8 shortcuts, you can really feel the difference and might search equivalents for macOS or Windows.
Sometimes it happens that a friend of mine looks at my screen and asks how I can do that auto window positioning, so I guess that it's an interesting thing even for non tecnical people.
My i3wm config has nothing special, just some small edits. The only thing that i mention is my custom i3block for spotify, it basically prints the song and artist name in a circular buffer (like on 2000s stereos). Sometimes some special chars breaks everything, but i'm too lazy to fix that.

You can find that i3block here:
[Link](https://github.com/giovifazi/dotfiles/blob/master/old-configs/i3/i3blocks/spotify).

## Vi,Vim,Neovim,Spacemacs,Emacs
I started using vim during my first year of university and I used it the wrong way for almost a whole year. What i mean with the 'wrong' way is that I was trying to make it look like an IDE by installing loads of autocomplete plugins, i was using windows instead of buffers, i wasn't learning new commands so often, i was using arrows instead of hjlk... and many many more mistakes.
I've seen many university colleagues use vim in the 'wrong' way and then go back to nano or IDEs just because it's so hard to use.
Maybe one day i will write a post to address some basic problems that a newcomer might face (like copy pasting) but for now i will write about my config.
I like to keep a relatively small config and not use loads of plugins (especially those heavy autocomplete; if i need a powerful autocomplete i prefer an IDE with a vi plugin).

# TODO finisci post

